<%- include('../partials/html-head') %>
<link rel="stylesheet" href="stylesheets/gorillas/index.css">
<%- include('../partials/nav') %>

<main>
<h1>Gorillas</h1>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Social Group</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% gorillas.forEach(gorilla => { %>
      <tr>
        <td><%= gorilla.name %></td>
        <td><%= gorilla.age %></td>
        <td><%= gorilla.sex === "Male" ? 'M' : 'F' %></td>
        <td><%= gorilla.group %></td>
        <td>
          <a href="/gorillas/<%= gorilla._id %>">
            <button>Details</button>
          </a>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<% if (user) { %>
  <h2>Add a Gorilla</h2>
  <form action="/gorillas" method="POST">
    <label for="name-input">Name:</label>
    <input name="name" type="text" id="name-input" autocomplete="off">
    <label for="age-input">Age:</label>
    <input name="age" type="text" id="age-input" autocomplete="off">
    <label for="sex-select">Sex:</label>
    <select name="sex" id="sex-select">
      <option value="">---Sex---</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
    </select>
    <label for="group-input">Social Group:</label>
    <select name="group" id="group-input">
      <option value="">---Group---</option>
      <option value="Family">Family</option>
      <option value="Bachelor">Bachelor</option>
    </select>
    <label for="family-input">Family:</label>
    <textarea name="family" id="family-input"></textarea>
    <div></div>
    <button type="submit">Submit</button>
  </form>
<% } %>

</main>
<%- include('../partials/footer') %>